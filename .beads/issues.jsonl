{"id":"shamay_shalom_18dev-117","title":"Split ShumaDB.js into domain services","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T18:26:40.734520323+04:00","created_by":"root","updated_at":"2026-01-12T18:43:52.292198986+04:00","closed_at":"2026-01-12T18:43:52.292198986+04:00","close_reason":"Created 6 domain services (DatabaseClient, ValuationService, GISService, GarmushkaService, ExtractionService, FileStorageService) with backward-compatible facade in ShumaDB.js"}
{"id":"shamay_shalom_18dev-1pv","title":"Support dual monitor workflow","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-08T23:22:37.366417896+04:00","created_by":"root","updated_at":"2026-01-08T23:22:37.366417896+04:00"}
{"id":"shamay_shalom_18dev-29i","title":"Add footnotes option to final document (הערות שוליים)","description":"## Footnotes Feature\n\n### User Flow:\n1. User clicks 'Start Editing' (כניסה למצב עריכה) to enter edit mode\n2. User places cursor where they want the footnote reference\n3. User clicks 'Add Footnote' button\n4. Dialog opens asking for footnote content\n5. On approve:\n   - System checks existing footnotes on current page\n   - Assigns next sequential number (per-page numbering, resets each page)\n   - Inserts superscript number at cursor position\n   - Adds footnote content at bottom of page with separator line\n\n### Requirements:\n- Footnote numbering: Per-page (resets to 1 on each new page)\n- Footnote placement: Bottom of page with separator line\n- Edit/Delete: User can edit or delete existing footnotes\n- Export support: Both PDF and DOCX exports must include footnotes","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T23:20:32.534635454+04:00","created_by":"root","updated_at":"2026-01-09T19:18:02.23645038+04:00","closed_at":"2026-01-09T19:18:02.23645038+04:00","close_reason":"Core footnotes feature implemented: add footnotes at cursor position, per-page numbering, PDF export (via custom edits), DOCX export (appendix section). Remaining enhancements: replace native prompt with dialog UI, add edit/delete functionality."}
{"id":"shamay_shalom_18dev-2h8","title":"Create ARCHITECTURE.md with field mapping and data flow","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-12T18:26:28.599260621+04:00","created_by":"root","updated_at":"2026-01-12T18:32:44.844878206+04:00","closed_at":"2026-01-12T18:32:44.844878206+04:00","close_reason":"Created comprehensive ARCHITECTURE.md documenting system architecture, data flow, type system, and field mapping"}
{"id":"shamay_shalom_18dev-2x9","title":"Add JSDoc documentation to ShumaDB.js critical methods","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-12T18:26:34.664293253+04:00","created_by":"root","updated_at":"2026-01-12T18:35:51.663134493+04:00","closed_at":"2026-01-12T18:35:51.663134493+04:00","close_reason":"Added comprehensive JSDoc to 7 critical methods: saveShumaFromSession, loadShumaForWizard, saveGISData, saveGarmushkaData, searchShumas, getShumaById, saveAIExtraction"}
{"id":"shamay_shalom_18dev-321","title":"Architecture Refactor: Type Safety \u0026 Maintainability","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-12T14:04:13.084019333+04:00","created_by":"root","updated_at":"2026-01-12T18:17:12.46956703+04:00","closed_at":"2026-01-12T18:17:12.46956703+04:00","close_reason":"Completed Phases 1-5 (partial). Phase 6 (DB migrations) deferred. Major improvements: ValuationContext, Zod validation, type foundation."}
{"id":"shamay_shalom_18dev-5fc","title":"Complete Type Migration - fix all imports to use @/types/valuation","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-12T18:26:22.526385903+04:00","created_by":"root","updated_at":"2026-01-12T18:31:01.398679392+04:00","closed_at":"2026-01-12T18:31:01.398679392+04:00","close_reason":"All imports now use @/types/valuation as single source of truth"}
{"id":"shamay_shalom_18dev-7gu","title":"Display all Bright Data columns including post-click data","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-08T23:20:38.300844824+04:00","created_by":"root","updated_at":"2026-01-08T23:20:38.300844824+04:00"}
{"id":"shamay_shalom_18dev-7vw","title":"Toggle document preview open/close as needed","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-08T23:22:29.781617769+04:00","created_by":"root","updated_at":"2026-01-08T23:22:29.781617769+04:00"}
{"id":"shamay_shalom_18dev-87h","title":"Phase 1: Type Foundation (types file, transformers, Zod schemas)","description":"Create shared types file, transformation layer for snake_case/camelCase, and Zod validation schemas. Files: frontend/src/types/valuation.ts (DONE), frontend/src/lib/transformers/valuation-transformer.ts, frontend/src/schemas/valuation.ts","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-12T14:04:33.496456951+04:00","created_by":"root","updated_at":"2026-01-12T14:15:46.761184405+04:00","closed_at":"2026-01-12T14:15:46.761184405+04:00","close_reason":"Created: types/valuation.ts (single source of truth), lib/transformers/valuation-transformer.ts (camelCase\u003c-\u003esnake_case), schemas/valuation.ts (Zod validation)"}
{"id":"shamay_shalom_18dev-972","title":"Fields: Standardize apartmentSqm vs apartmentRegisteredArea naming","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-12T21:34:48.736439894+04:00","created_by":"root","updated_at":"2026-01-12T21:34:48.736439894+04:00"}
{"id":"shamay_shalom_18dev-9di","title":"Phase 2: State Management (ValuationContext, eliminate prop drilling)","description":"Create ValuationContext for centralized state management. Refactor WizardPage and all Step components to use context instead of prop drilling. Files: frontend/src/contexts/ValuationContext.tsx, frontend/src/app/wizard/page.tsx, all Step components","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-12T14:04:40.428525819+04:00","created_by":"root","updated_at":"2026-01-12T14:29:57.444673858+04:00","closed_at":"2026-01-12T14:29:57.444673858+04:00","close_reason":"Phase 2 complete - ValuationContext created, WizardPage refactored to use context, all state management centralized","dependencies":[{"issue_id":"shamay_shalom_18dev-9di","depends_on_id":"shamay_shalom_18dev-87h","type":"blocks","created_at":"2026-01-12T14:05:22.2093334+04:00","created_by":"root"}]}
{"id":"shamay_shalom_18dev-a7k","title":"CSV upload option for tabular data","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-08T23:22:06.00082796+04:00","created_by":"root","updated_at":"2026-01-08T23:22:06.00082796+04:00"}
{"id":"shamay_shalom_18dev-b1f","title":"Refactor: Split EditableDocumentPreview.tsx (2248 lines)","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-12T21:34:54.593603031+04:00","created_by":"root","updated_at":"2026-01-12T23:00:16.876887402+04:00","closed_at":"2026-01-12T23:00:16.876887402+04:00","close_reason":"Closed"}
{"id":"shamay_shalom_18dev-b6r","title":"Persistence: AIGeneratedField has no debounced auto-save","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-12T21:35:12.161706026+04:00","created_by":"root","updated_at":"2026-01-12T23:00:16.823771233+04:00","closed_at":"2026-01-12T23:00:16.823771233+04:00","close_reason":"Closed"}
{"id":"shamay_shalom_18dev-bpj","title":"Faster document upload flow (upload right after opening appraisal)","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-08T23:22:23.797850029+04:00","created_by":"root","updated_at":"2026-01-08T23:22:23.797850029+04:00"}
{"id":"shamay_shalom_18dev-bx8","title":"Phase 6: Database normalization","description":"Create parcel_master table, extract JSONB arrays to proper tables. Migration files: 014_add_parcel_master.sql, 015_extract_jsonb_arrays.sql","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T14:05:07.468769213+04:00","created_by":"root","updated_at":"2026-01-12T18:47:00.097579089+04:00","closed_at":"2026-01-12T18:47:00.097579089+04:00","close_reason":"Created migration files 014-016 for parcel master table, valuation images extraction, and FK constraints","dependencies":[{"issue_id":"shamay_shalom_18dev-bx8","depends_on_id":"shamay_shalom_18dev-ufd","type":"blocks","created_at":"2026-01-12T14:05:44.196165383+04:00","created_by":"root"}]}
{"id":"shamay_shalom_18dev-c5x","title":"Phase 4: Convert backend to TypeScript + validation","description":"Convert ShumaDB.js to TypeScript, add request validation middleware with Zod. Files: backend/src/models/ShumaDB.ts, backend/src/middleware/validateRequest.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T14:04:54.469046824+04:00","created_by":"root","updated_at":"2026-01-12T18:12:35.552272523+04:00","closed_at":"2026-01-12T18:12:35.552272523+04:00","close_reason":"Completed Zod validation middleware. Full TypeScript conversion deferred - too risky for now.","dependencies":[{"issue_id":"shamay_shalom_18dev-c5x","depends_on_id":"shamay_shalom_18dev-fga","type":"blocks","created_at":"2026-01-12T14:05:32.678967302+04:00","created_by":"root"}]}
{"id":"shamay_shalom_18dev-dfo","title":"Refactor: Split updateData() function (100+ lines)","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-12T21:35:00.454735119+04:00","created_by":"root","updated_at":"2026-01-12T21:35:00.454735119+04:00"}
{"id":"shamay_shalom_18dev-fga","title":"Phase 3: Fix all 'any' types in critical paths","description":"Replace all 'any' types with proper interfaces in Step components, useShumaDB.ts, and converter.ts. ~256 instances to fix.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T14:04:47.462414569+04:00","created_by":"root","updated_at":"2026-01-12T18:07:52.028076159+04:00","closed_at":"2026-01-12T18:07:52.028076159+04:00","close_reason":"Closed","dependencies":[{"issue_id":"shamay_shalom_18dev-fga","depends_on_id":"shamay_shalom_18dev-9di","type":"blocks","created_at":"2026-01-12T14:05:26.732040332+04:00","created_by":"root"}]}
{"id":"shamay_shalom_18dev-ii1","title":"Expand table filters for comparable data","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-08T23:22:49.333074556+04:00","created_by":"root","updated_at":"2026-01-08T23:22:49.333074556+04:00"}
{"id":"shamay_shalom_18dev-k25","title":"UX: Add toast/notification system for user feedback","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-12T21:34:26.993653886+04:00","created_by":"root","updated_at":"2026-01-12T23:00:16.839894694+04:00","closed_at":"2026-01-12T23:00:16.839894694+04:00","close_reason":"Closed"}
{"id":"shamay_shalom_18dev-l9o","title":"UX: Missing success feedback on export (Step5Export.tsx:122)","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-12T21:34:32.943819709+04:00","created_by":"root","updated_at":"2026-01-12T23:00:16.852690502+04:00","closed_at":"2026-01-12T23:00:16.852690502+04:00","close_reason":"Closed"}
{"id":"shamay_shalom_18dev-lqb","title":"Fields: Standardize parcel vs chelka naming","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-12T21:34:42.806761037+04:00","created_by":"root","updated_at":"2026-01-12T21:34:42.806761037+04:00"}
{"id":"shamay_shalom_18dev-nqo","title":"CSV export option to edit and re-upload tabular data","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-08T23:22:11.922242697+04:00","created_by":"root","updated_at":"2026-01-08T23:22:11.922242697+04:00"}
{"id":"shamay_shalom_18dev-olk","title":"Change font to DAVID 12 or allow font selection","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-08T23:21:59.996187525+04:00","created_by":"root","updated_at":"2026-01-08T23:21:59.996187525+04:00"}
{"id":"shamay_shalom_18dev-p9v","title":"UX: Missing AI analysis completion feedback (Step4AIAnalysis.tsx:206-236)","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-12T21:34:38.769438346+04:00","created_by":"root","updated_at":"2026-01-12T23:00:16.863631033+04:00","closed_at":"2026-01-12T23:00:16.863631033+04:00","close_reason":"Closed"}
{"id":"shamay_shalom_18dev-s3l","title":"Persistence: Step5ValuationPanel edit fields don't auto-save on blur","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-12T21:35:06.291319758+04:00","created_by":"root","updated_at":"2026-01-12T23:00:16.795398873+04:00","closed_at":"2026-01-12T23:00:16.795398873+04:00","close_reason":"Closed"}
{"id":"shamay_shalom_18dev-s6o","title":"Auto page-break when new chapter starts with half page or less remaining","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-08T23:21:51.77991099+04:00","created_by":"root","updated_at":"2026-01-09T13:53:10.011121537+04:00","closed_at":"2026-01-09T13:53:10.011121537+04:00","close_reason":"Implemented auto page-break for chapters when ≤50% page remaining, plus visual page break lines and fixed scroll container"}
{"id":"shamay_shalom_18dev-ufd","title":"Phase 5: Split monolithic components","description":"Split EditableDocumentPreview.tsx (1,964 lines) into 5 components. Split ShumaDB.js (2,700 lines) into domain services.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-12T14:05:00.414393602+04:00","created_by":"root","updated_at":"2026-01-12T18:15:52.864696859+04:00","closed_at":"2026-01-12T18:15:52.864696859+04:00","close_reason":"Partial: Created folder structure and extracted types. Full split deferred - needs manual testing.","dependencies":[{"issue_id":"shamay_shalom_18dev-ufd","depends_on_id":"shamay_shalom_18dev-c5x","type":"blocks","created_at":"2026-01-12T14:05:38.420958941+04:00","created_by":"root"}]}
{"id":"shamay_shalom_18dev-w2n","title":"Allow multi-gush search (search containing more than one gush)","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-08T23:22:43.409165626+04:00","created_by":"root","updated_at":"2026-01-08T23:22:43.409165626+04:00"}
{"id":"shamay_shalom_18dev-zcr","title":"Word export option for final document","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-08T23:22:17.853283679+04:00","created_by":"root","updated_at":"2026-01-12T23:09:43.67591361+04:00","closed_at":"2026-01-12T23:09:43.67591361+04:00","close_reason":"Closed"}
