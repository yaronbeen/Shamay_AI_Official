/* Print CSS for Professional A4 PDF Generation */
/* Use with Chromium print-to-PDF (Puppeteer/Playwright) */

/* Page Setup */
@page {
  size: A4;
  margin: 15mm 18mm 18mm 18mm;
}

@page:first {
  margin-top: 0;
}

/* Hebrew Font Embedding */
/* Using system fonts as fallback, with Google Fonts CDN for Noto Sans Hebrew */
@font-face {
  font-family: "Noto Sans Hebrew";
  src: url("https://fonts.googleapis.com/css2?family=Noto+Sans+Hebrew:wght@400;700&display=swap");
  font-weight: 400;
  font-style: normal;
}

@font-face {
  font-family: "Noto Sans Hebrew";
  src: url("https://fonts.googleapis.com/css2?family=Noto+Sans+Hebrew:wght@400;700&display=swap");
  font-weight: 700;
  font-style: normal;
}

/* Base Typography */
html, body {
  direction: rtl;
  unicode-bidi: isolate-override;
  margin: 0;
  padding: 0;
  background: #fff;
}

body {
  font-family: "Noto Sans Hebrew", "Arial Hebrew", "David", "Miriam", Arial, sans-serif;
  font-size: 11pt;
  line-height: 1.6;
  color: #000;
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
}

/* Cover Page */
.cover {
  page-break-after: always;
  page-break-inside: avoid;
  min-height: auto;
  padding: 20mm 0;
}

.cover h1 {
  font-size: 18pt;
  font-weight: 700;
  text-align: center;
  margin: 0 0 15pt;
}

.cover h2 {
  font-size: 16pt;
  font-weight: 700;
  text-align: center;
  margin: 0 0 12pt;
}

.cover h3 {
  font-size: 14pt;
  font-weight: 400;
  text-align: center;
  margin: 0 0 20pt;
}

.cover .hero {
  text-align: center;
  margin: 30pt auto;
  page-break-inside: avoid;
}

.cover .hero img {
  max-width: 100%;
  max-height: 450px;
  height: auto;
  width: auto;
  object-fit: contain;
  display: block;
  margin: 0 auto;
}

/* Chapter Headings */
.chapter {
  page-break-inside: avoid;
}

.chapter h1 {
  font-size: 14pt;
  font-weight: 700;
  text-align: center;
  margin: 20pt 0 12pt;
  break-before: page;
  page-break-after: avoid;
}

.chapter:first-of-type h1 {
  break-before: avoid;
}

.chapter h2 {
  font-size: 12pt;
  font-weight: 700;
  margin: 14pt 0 8pt;
  page-break-after: avoid;
}

.chapter h3 {
  font-size: 11pt;
  font-weight: 700;
  margin: 12pt 0 6pt;
  page-break-after: avoid;
}

/* Block-level elements that must not split */
.block,
.card,
.figure,
.callout {
  break-inside: avoid;
  page-break-inside: avoid;
}

/* Tables */
table {
  width: 100%;
  border-collapse: collapse;
  margin: 12pt 0;
  break-inside: avoid;
  page-break-inside: avoid;
}

thead {
  display: table-header-group;
}

tfoot {
  display: table-footer-group;
}

tbody {
  display: table-row-group;
}

th, td {
  border: 1px solid #ccc;
  padding: 6pt;
  font-size: 10pt;
  text-align: right;
  page-break-inside: avoid;
}

th {
  font-weight: 700;
  background-color: #f5f5f5;
}

tr {
  page-break-inside: avoid;
}

/* Images */
img {
  max-width: 100%;
  height: auto;
  display: block;
  page-break-inside: avoid;
}

.figure {
  margin: 12pt 0;
  text-align: center;
  page-break-inside: avoid;
}

.figure img {
  margin: 0 auto;
}

/* Cards and Callouts */
.card {
  background-color: #f9f9f9;
  border: 1px solid #ddd;
  border-radius: 4px;
  padding: 12pt;
  margin: 12pt 0;
  page-break-inside: avoid;
}

.callout {
  border: 1px solid #ddd;
  padding: 10pt;
  background: #f9f9f9;
  margin: 10pt 0;
  page-break-inside: avoid;
}

/* Lists */
ul, ol {
  margin: 8pt 0;
  padding-right: 20pt;
}

li {
  margin: 4pt 0;
  page-break-inside: avoid;
}

/* Paragraphs */
p {
  margin: 8pt 0;
  overflow-wrap: anywhere;
  word-break: normal;
}

/* Text Alignment Helpers */
.text-center {
  text-align: center;
}

.text-right {
  text-align: right;
}

.text-left {
  text-align: left;
}

/* LTR for numbers/IDs */
.ltr {
  direction: ltr;
  unicode-bidi: embed;
  display: inline-block;
}

/* Spacing */
.spacer {
  height: 12pt;
}

/* Section Breaks */
.section-break {
  page-break-inside: avoid;
  margin: 20pt 0;
}

/* Print-specific adjustments */
@media print {
  .cover {
    min-height: auto !important;
    padding: 20mm 0 !important;
  }
  
  .valuation-document {
    padding: 0 !important;
  }
  
  /* Ensure no background colors are lost */
  * {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }
}

